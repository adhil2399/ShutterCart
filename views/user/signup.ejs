 <!DOCTYPE html>
 <html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>sign-up</title>
  <link rel="icon" href="../assets/images/favicon.png" type="image/x-icon">
  <link rel="shortcut icon" href="../assets/images/favicon.png" type="image/x-icon">
   <!-- Favicon icon-->
  <link rel="icon" href="../assets/images/favicon.png" type="image/x-icon">
  <link rel="shortcut icon" href="../assets/images/favicon.png" type="image/x-icon">
  <!-- Google Font Outfit-->
  <link rel="preconnect" href="https://fonts.googleapis.com/">
  <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="">
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&amp;display=swap" rel="stylesheet">
  <!-- Font Awesome-->
  <link rel="stylesheet" type="text/css" href="../assets/css/vendors/fontawesome.css">
  <!-- Iconsax icon-->
  <link rel="stylesheet" type="text/css" href="../assets/css/vendors/iconsax.css">
  <!-- Bootstrap css-->
  <link rel="stylesheet" type="text/css" id="rtl-link" href="../assets/css/vendors/bootstrap.css">
  <link rel="stylesheet" type="text/css" href="../assets/css/vendors/toastify.css">
  <link rel="stylesheet" type="text/css" href="../assets/css/style.css">
 </head>
 <body>
  <section class="section-b-space pt-0">
    <div class="heading-banner">
      <div class="custom-container container">
        <div class="row align-items-center">
          <div class="col-sm-6">
            <h4>Sign Up</h4>
          </div>
          <div class="col-sm-6">
            <ul class="breadcrumb float-end">
              <li class="breadcrumb-item"> <a href="/">Home</a></li>
              <li class="breadcrumb-item active"> <a href="#">Sign Up</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </section>
  <section class="section-b-space pt-0 login-bg-img">
    <div class="custom-container container login-page">
      <div class="row align-items-center">
        <div class="col-xxl-7 col-6 d-none d-lg-block">
          <div class="login-img">
            <img class="img-fluid" src="https://themes.pixelstrap.net/katie/assets/images/login/1.svg" alt="">
          </div>
        </div>
        <div class="col-xxl-4 col-lg-6 mx-auto">
          <div class="log-in-box">
            <div class="log-in-title">
              <h4>Welcome To ShutterCart</h4>
              <p>Create New Account</p>
            </div>
            <div class="login-box">
              <form class="row g-3" id="form" method="post" action="/signup">
                <% if(locals.message&& message.length>0){ %>
                  <div class="text-center alert alert-danger">
                    <%= message %>
                    </div>
               <% } %>
                <div class="col-12">
                  <div class="form-floating">
                    <input class="form-control" id="username" name="name" type="text" placeholder="Full Name">
                    <label for="username">Enter Your Name</label>
                    <small class="error-message text-danger"> </small>
                  </div>
                </div>
                <div class="col-12">
                  <div class="form-floating">
                    <input class="form-control" id="email" type="text" name="email" placeholder="name@example.com">
                    <label for="email">Enter Your Email</label>
                    <small class="error-message text-danger"> </small>
                  </div>
                </div>
                <div class="col-12">
                  <div class="form-floating">
                    <input class="form-control" id="phone" type="number" name="phone" placeholder="Phone">
                    <label for="email">Enter Phone number</label>
                    <small class="error-message text-danger"> </small>
                  </div>
                </div>
                <div class="col-12">
                  <div class="form-floating">
                    <input class="form-control" id="password" name="password" type="password" placeholder="Password">
                    <label for="password">Enter Your Password</label>
                    <small class="error-message text-danger"> </small>
                  </div>
                </div>
                <div class="col-12">
                  <div class="form-floating">
                    <input class="form-control" id="cpassword" name="cpassword" type="password" placeholder="Password">
                    <label for="cpassword">Confirm Password</label>
                    <small class="error-message text-danger"> </small>
                  </div>
                </div>
                <div class="col-12">
                  <div class="forgot-box">
                    <div>
                      <input class="custom-checkbox me-2" id="category1" type="checkbox" name="terms">
                      <label for="category1">I agree with <span>Terms</span> and <span>Privacy</span></label>
                    </div>
                  </div>
                </div>
                <div class="col-12">
                  <button class="btn login btn_black sm" type="submit">Sign Up</button>
                </div>
              </form>
            </div>
            <div class="other-log-in">
              <h6>OR</h6>
            </div>
            <div class="log-in-button">
              <ul>
                <li>
                  <a href="/auth/google"> <i class="fa-brands fa-google me-2"> </i>Google</a>
                </li>
                <li>
                  <a href="https://www.facebook.com/" target="_blank"><i class="fa-brands fa-facebook-f me-2"></i>Facebook</a>
                </li>
              </ul>
            </div>
            <div class="sign-up-box">
              <p>Already have an account?</p><a href="/login">Log In</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <div class="theme-btns">
      <button class="btntheme" id="dark-btn"><i class="fa-regular fa-moon"></i>
        <div class="text">Dark</div>
      </button>
      <!-- <button class="btntheme rtlBtnEl" id="rtl-btn"><i class="fa-solid fa-repeat"></i>
        <div class="rtl">Rtl</div>
      </button> -->
    </div>
    <script src="https://accounts.google.com/gsi/client" asyncÂ defer></script>
    <!-- Bootstrap js-->
    <script src="../assets/js/bootstrap/bootstrap.bundle.min.js"></script>
    <!-- iconsax js -->
    <script src="../assets/js/iconsax.js"> </script>
    <!-- cursor js-->
    <script src="../assets/js/stats.min.js"> </script>
    <script src="../assets/js/cursor.js"> </script>
    <!-- touchspin-->
    <script src="../assets/js/touchspin.js"></script>
    <!-- cookie js-->
    <script src="../assets/js/cookie.js"></script>
    <!-- tost js -->
    <script src="../assets/js/toastify.js"></script>
    <script src="../assets/js/theme-setting.js"></script>
    <!-- Theme js-->
    <script src="../assets/js/script.js"></script>
  
 </body>
 </html>


<script>
  const form = document.getElementById('form');
const username = document.getElementById('username');
const email = document.getElementById('email');
const phone = document.getElementById('phone');
const password = document.getElementById('password');
const cpassword = document.getElementById('cpassword');

// Show error message
function showError(input, message) {
  const formControl = input.parentElement;
  const small = formControl.querySelector('.error-message');
  formControl.classList.add('error');
  formControl.classList.remove('success');
  small.innerText = message;
}

// Show success outline
function showSuccess(input) {
  const formControl = input.parentElement;
  const small = formControl.querySelector('.error-message');
  formControl.classList.remove('error');
  formControl.classList.add('success');
  small.innerText = '';
}

// Validate email format
function checkEmail(input) {
  const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  if (re.test(input.value.trim())) {
    showSuccess(input);
    return true;
  } else {
    showError(input, 'Email is not valid');
    return false;
  }
}

// Validate phone format
function checkPhone(input) {
  const re = /^[0-9]{10}$/; // Example: Validates 10-digit numbers only
  if (re.test(input.value.trim())) {
    showSuccess(input);
    return true;
  } else {
    showError(input, 'Phone number must be 10 digits');
    return false;
  }
}

// Check required fields
function checkRequired(inputs) {
    let isValid = true;
    inputs.forEach(input => {
        if (input.required && input.value.trim() === '') {
            showError(input, `${getFieldName(input)} is required`);
            isValid = false;
        } else {
            showSuccess(input);
        }
    });
    return isValid;
}


// Check input length
function checkLength(input, min, max) {
  if (input.value.length < min) {
    showError(input, `${getFieldName(input)} must be at least ${min} characters`);
    return false;
  } else if (input.value.length > max) {
    showError(input, `${getFieldName(input)} must be less than ${max} characters`);
    return false;
  } else {
    showSuccess(input);
    return true;
  }
}

// Check if passwords match
function checkPasswordsMatch(password, cpassword) {
  if (password.value !== cpassword.value) {
    showError(cpassword, 'Passwords do not match');
    return false;
  } else {
    showSuccess(cpassword);
    return true;
  }
}

// Get formatted field name
function getFieldName(input) {
  return input.id.charAt(0).toUpperCase() + input.id.slice(1);
}

// Form submit event
form.addEventListener('submit', function (e) {
    e.preventDefault();

    const isFormValid =
        checkRequired([username, email, phone, password, cpassword]) &&
        checkLength(username, 3, 15) &&
        checkLength(password, 6, 25) &&
        checkEmail(email) &&
        checkPhone(phone) &&
        checkPasswordsMatch(password, cpassword);

    if (isFormValid) {
        console.log('Form submitted successfully!');
        form.submit(); // Allow form submission
    } else {
        console.log('Form validation failed.');
    }
});


</script>